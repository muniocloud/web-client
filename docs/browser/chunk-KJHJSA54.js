import{a as Z,b as ee,c as ne,d as oe,g as re}from"./chunk-4X2PJGET.js";import{a as k}from"./chunk-HMW2PEBS.js";import{a as B,b as j}from"./chunk-Q5R273OE.js";import{A as ie,d as v,f as H,g as G,h as W,j as x,k as $,l as q,m as X,p as z,q as J,r as K,v as Q,w as Y,y as te}from"./chunk-GZFTHMNX.js";import"./chunk-JALDAHO2.js";import{a as P}from"./chunk-PJ7CZ4LT.js";import{c as ae}from"./chunk-YJD6ZQFG.js";import{F as D,K as R,O as U,b as A,ea as V}from"./chunk-3GOEH257.js";import"./chunk-IX6G3U3V.js";import{b as L,j as w}from"./chunk-YP77TDRT.js";import{j as y,m as I}from"./chunk-IQVPVRV2.js";import{$b as O,Bb as e,Cb as t,Db as d,Eb as _,Fb as M,Hb as T,Kb as F,L as S,Mb as g,Ub as i,Wb as N,Xa as p,Ya as m,Zb as f,ac as b,ha as u,pb as C,qa as h,ra as E,rb as c}from"./chunk-YS66BBCY.js";var me="1",se="1",le="Routine";function fe(o,n){o&1&&d(0,"mat-progress-spinner",2)}function ve(o,n){o&1&&d(0,"mat-progress-bar",2)}function xe(o,n){if(o&1){let s=T();_(0),e(1,"header")(2,"h2",3),i(3),O(4,"firstName"),t(),e(5,"p",4),i(6,"Let's start a new conversation?"),t(),e(7,"p",5),i(8,"Practice dialogues in English across different contexts to enhance your conversational skills."),t()(),e(9,"main")(10,"form",6),F("ngSubmit",function(){h(s);let r=g();return E(r.createConversation())}),e(11,"h2",7),i(12,"Start a new conversation"),t(),e(13,"div",8)(14,"mat-form-field",9)(15,"mat-label"),i(16,"Level"),t(),e(17,"mat-select",10)(18,"mat-option",11),i(19,"Beginner"),t(),e(20,"mat-option",12),i(21,"Intermediate"),t(),e(22,"mat-option",13),i(23,"Advanced"),t()()(),e(24,"mat-form-field",9)(25,"mat-label"),i(26,"Duration"),t(),e(27,"mat-select",14)(28,"mat-option",11),i(29,"Short (3 ~ 5 messages)"),t(),e(30,"mat-option",15),i(31,"Medium (6 ~ 10 messages)"),t(),e(32,"mat-option",13),i(33,"Long (11 ~ 20 mensagens)"),t()()(),e(34,"mat-form-field",9)(35,"mat-label"),i(36,"Context"),t(),e(37,"mat-select",16)(38,"mat-option",17),i(39,"Routine"),t(),e(40,"mat-option",18),i(41,"School"),t(),e(42,"mat-option",19),i(43,"Hobbies"),t(),e(44,"mat-option",20),i(45,"Cinema"),t(),e(46,"mat-option",21),i(47,"Travel"),t(),e(48,"mat-option",22),i(49,"Work"),t(),e(50,"mat-option",23),i(51,"Shopping"),t(),e(52,"mat-option",24),i(53,"Social Life"),t(),e(54,"mat-option",25),i(55,"Health & Wellness"),t(),e(56,"mat-option",26),i(57,"Family Life"),t(),e(58,"mat-option",27),i(59,"Dining Out"),t()()()(),e(60,"button",28),i(61,"Start conversation"),t(),C(62,ve,1,0,"mat-progress-bar",0),t()(),M()}if(o&2){let s=g();p(3),N("Hello ",b(4,3,s.currentUser.name),"!"),p(7),c("formGroup",s.conversationCreatorForm),p(52),c("ngIf",s.isCreatingConversation)}}var pe=(()=>{let n=class n{constructor(a,r,l,ce,de){this.http=a,this.snackBar=r,this.baseUrl=l,this.router=ce,this.authService=de,this.isCreatingConversation=!1,this.textError="",this.conversationCreatorForm=new W({level:new x(me,[v.required]),duration:new x(se,[v.required]),context:new x(le,[v.required])})}get isLoading(){return this.authService.isLoading}createConversation(){this.isCreatingConversation=!0,this.http.post(`${this.baseUrl}/conversations`,{level:+this.conversationCreatorForm.value.level,duration:+this.conversationCreatorForm.value.duration,context:this.conversationCreatorForm.value.context}).pipe(S(()=>{this.isCreatingConversation=!1})).subscribe({next:({conversationId:a})=>{this.router.navigate([`conversations/${a}`])},error:a=>{this.snackBar.open(`Error: ${a.status} ${a.statusText}. Try again.`,"Dismiss",{duration:1e4})}})}get currentUser(){return this.authService.currentUser}};n.\u0275fac=function(r){return new(r||n)(m(L),m(V),m(A),m(w),m(P))},n.\u0275cmp=u({type:n,selectors:[["app-conversations-creator"]],standalone:!0,features:[f],decls:2,vars:2,consts:[["mode","indeterminate",4,"ngIf"],[4,"ngIf"],["mode","indeterminate"],[1,"mat-display-medium","primary-heading"],[1,"mat-title-small"],[1,"mat-body-medium"],[1,"conversations-creator-form",3,"ngSubmit","formGroup"],[1,"mat-title-medium"],[1,"conversations-creator-form-fields"],["appearance","outline"],["formControlName","level"],["value","1"],["value","23"],["value","3"],["formControlName","duration"],["value","2"],["formControlName","context"],["value","Routine"],["value","School"],["value","Hobbies"],["value","Cinema"],["value","Travel"],["value","Work"],["value","Shopping"],["value","Social Life"],["value","Health & Wellness"],["value","Family Life"],["value","Dining Out"],["mat-flat-button","","type","submit",1,"conversations-creator-form-submit"]],template:function(r,l){r&1&&C(0,fe,1,0,"mat-progress-spinner",0)(1,xe,63,5,"ng-container",1),r&2&&(c("ngIf",l.isLoading),p(),c("ngIf",l.currentUser))},dependencies:[te,ee,z,$,H,G,J,q,X,Z,Y,Q,K,U,R,ie,I,y,oe,ne,D,re,ae,k,j,B],styles:["[_nghost-%COMP%]{width:calc(100% - 24px);max-width:648px;padding:24px 0;display:flex;justify-content:center;flex-direction:column;flex:1}.conversations-creator-form[_ngcontent-%COMP%]{margin-top:24px;display:flex;flex-direction:column}.conversations-creator-form-fields[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.conversations-creator-form-fields[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{min-width:100%}.conversations-creator-form-submit[_ngcontent-%COMP%]{margin:12px 0}"]});let o=n;return o})();var Qe=(()=>{let n=class n{};n.\u0275fac=function(r){return new(r||n)},n.\u0275cmp=u({type:n,selectors:[["app-conversations"]],standalone:!0,features:[f],decls:1,vars:0,template:function(r,l){r&1&&d(0,"app-conversations-creator")},dependencies:[pe],styles:["[_nghost-%COMP%]{width:calc(100% - 24px);max-width:648px;padding:24px 0;display:flex;justify-content:center;flex-direction:column;flex:1}"]});let o=n;return o})();export{Qe as ConversationsComponent};
